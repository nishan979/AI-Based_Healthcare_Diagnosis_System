<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="Find easily a doctor and book online an appointment"
    />
    <meta name="author" content="Nishan" />
    <title>
      DocExpress - Find easily a doctor and book online an appointment
    </title>

    <!-- Favicons -->
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
    <link
      rel="apple-touch-icon"
      type="image/x-icon"
      href="img/apple-touch-icon-57x57-precomposed.png"
    />
    <link
      rel="apple-touch-icon"
      type="image/x-icon"
      sizes="72x72"
      href="img/apple-touch-icon-72x72-precomposed.png"
    />
    <link
      rel="apple-touch-icon"
      type="image/x-icon"
      sizes="114x114"
      href="img/apple-touch-icon-114x114-precomposed.png"
    />
    <link
      rel="apple-touch-icon"
      type="image/x-icon"
      sizes="144x144"
      href="img/apple-touch-icon-144x144-precomposed.png"
    />

    <!-- GOOGLE WEB FONT -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- BASE CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <link href="css/style.css" rel="stylesheet" />
    <link href="css/menu.css" rel="stylesheet" />
    <link href="css/vendors.css" rel="stylesheet" />
    <link href="css/icon_fonts/css/all_icons_min.css" rel="stylesheet" />

    <!-- SPECIFIC CSS -->
    <link href="css/date_picker.css" rel="stylesheet" />

    <!--  CUSTOM CSS -->
    <link href="css/custom.css" rel="stylesheet" />
  </head>

  <body>
    <div class="layer"></div>
    <!-- Mobile menu overlay mask -->

    <div id="preloader">
      <div data-loader="circle-side"></div>
    </div>
    <!-- End Preload -->

    <header class="header_sticky">
      <div class="container">
        <div class="row">
          <div class="col-lg-3 col-6">
            <div id="logo_home">
              <h1><a href="index.html" title="Findoctor">DocExpress</a></h1>
            </div>
          </div>
          <nav class="col-lg-9 col-6">
            <a
              class="cmn-toggle-switch cmn-toggle-switch__htx open_close"
              href="#0"
              ><span>Menu mobile</span>
            </a>
            <div class="main-menu">
              <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="grid-list.html">Doctors</a></li>
                <li><a href="detail-page.html">Appointment</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="contacts.html">Contacts</a></li>
                <li><a href="login.html">Login</a></li>
                <li><a href="register.html">Sign Up</a></li>
              </ul>
            </div>
            <!-- /main-menu -->
          </nav>
        </div>
      </div>
      <!-- /container -->
    </header>
    <!-- /Header -->

    <main>
      <!-- <div id="results">
        <div class="container">
          <div class="row">
            <div class="col-md-6">
              <h4><strong>Showing 6</strong> doctors</h4>
            </div>
            <div class="col-md-6">
              <div class="search_bar_list">
                <input
                  type="text"
                  class="form-control"
                  placeholder="Ex. Specialist, Name, Doctor..."
                />
                <input type="submit" value="Search" />
              </div>
            </div>
          </div>
        </div>
      </div> -->
      <!-- /results -->

      <!-- /filters -->

      <div class="container margin_60_35">
        <div class="row">
          <div class="col-lg-8">
            <div class="row" id="doctors-container">
              <!-- Doctor cards will be dynamically inserted here -->
            </div>
            <!-- /row -->

            <nav aria-label="" class="add_top_20">
              <ul class="pagination pagination-sm">
                <li class="page-item disabled">
                  <a class="page-link" href="#" tabindex="-1">Previous</a>
                </li>
                <li class="page-item active">
                  <a class="page-link" href="#">1</a>
                </li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item">
                  <a class="page-link" href="#">Next</a>
                </li>
              </ul>
            </nav>
            <!-- /pagination -->
          </div>
          <!-- /col -->

          <aside class="col-lg-4" id="sidebar">
            <div id="map_listing" class="normal_list"></div>
          </aside>
          <!-- /aside -->
        </div>
        <!-- /row -->
      </div>
      <!-- /container -->
    </main>
    <!-- /main -->

    <footer>
      <div class="container margin_60_35">
        <div class="row">
          <div class="col-lg-3 col-md-12">
            <p>
              <a href="index.html" title="Findoctor">
                <img
                  src="img/logo.png"
                  alt=""
                  width="163"
                  height="36"
                  class="img-fluid"
                />
              </a>
            </p>
          </div>
          <div class="col-lg-3 col-md-4">
            <h5>About</h5>
            <ul class="links">
              <li><a href="about.html">About us</a></li>
              <li><a href="faq.html">FAQ</a></li>
              <li><a href="login.html">Login</a></li>
              <li><a href="register.html">Register</a></li>
            </ul>
          </div>
          <div class="col-lg-3 col-md-4">
            <h5>Useful links</h5>
            <ul class="links">
              <li><a href="grid-list.html">Doctors</a></li>
              <li><a href="grid-list.html">Specialization</a></li>
              <li><a href="register-doctor.html">Join as a Doctor</a></li>
            </ul>
          </div>
          <div class="col-lg-3 col-md-4">
            <h5>Contact with Us</h5>
            <ul class="contacts">
              <li>
                <a href="tel://1634664389"
                  ><i class="icon_mobile"></i> + 880 16346 64389</a
                >
              </li>
              <li>
                <a href="mailto:help@docexpress.com"
                  ><i class="icon_mail_alt"></i> help@DocExpress.com</a
                >
              </li>
            </ul>
            <div class="follow_us">
              <h5>Follow us</h5>
              <ul>
                <li>
                  <a href="https://www.facebook.com/"><i class="bi bi-facebook"></i></a>
                </li>
                <li>
                  <a href="https://x.com/"><i class="bi bi-twitter-x"></i></a>
                </li>
                <li>
                  <a href="https://www.instagram.com/"><i class="bi bi-instagram"></i></a>
                </li>
                <li>
                  <a href="https://www.tiktok.com/"><i class="bi bi-tiktok"></i></a>
                </li>
                <li>
                  <a href="https://www.whatsapp.com/"><i class="bi bi-whatsapp"></i></a>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <!--/row-->
        <hr />
        <div class="row">
          <div class="col-md-8">
            <ul id="additional_links">
              <li><a href="terms.html">Terms and conditions</a></li>
              <li><a href="privacy.html">Privacy</a></li>
            </ul>
          </div>
          <div class="col-md-4">
            <div id="copy">Â© 2025 DocExpress</div>
          </div>
        </div>
      </div>
    </footer>

    <!--/footer-->

    <div id="toTop"></div>
    <!-- Back to top button -->
    <!-- ... (keep all your existing HTML code unchanged until the scripts section) ... -->

    <!-- COMMON SCRIPTS -->
    <script src="js/jquery-3.7.1.min.js"></script>
    <script src="js/common_scripts.min.js"></script>
    <script src="js/functions.js"></script>

    <!-- SPECIFIC SCRIPTS -->
    <script src="http://maps.googleapis.com/maps/api/js"></script>
    <script src="js/markerclusterer.js"></script>
    <script src="js/map_listing.js"></script>
    <script src="js/infobox.js"></script>

    <!-- Updated Doctor Data Loading Script with Debugging -->
    <script>
      $(document).ready(function () {
        console.log("Starting doctor data load...");

        // Load doctor data
        $.ajax({
          url: "doctors.json",
          dataType: "json",
          success: function (data) {
            console.log("Data loaded successfully:", data);

            if (!data.doctors || data.doctors.length === 0) {
              console.error("No doctors found in data");
              return;
            }

            const container = $("#doctors-container");
            container.empty(); // Clear existing content

            data.doctors.forEach((doctor) => {
              const card = `
    <div class="col-md-6">
        <div class="box_list wow fadeIn">
            <a href="#0" class="wish_bt"></a>
            <figure>
                <!-- Changed this link -->
                <a href="detail-page.html?doctorId=${doctor.id}">
                    <img src="${doctor.image}" class="img-fluid" alt="${
                doctor.name
              }" />
                    <div class="preview"><span>Read more</span></div>
                </a>
            </figure>
            <div class="wrapper">
                <small>${doctor.specialty}</small>
                <h3>${doctor.name}</h3>
                <p>${doctor.qualifications}</p>
                <span class="rating">
                    <i class="icon_star voted"></i>
                    <i class="icon_star voted"></i>
                    <i class="icon_star voted"></i>
                    <i class="icon_star"></i>
                    <i class="icon_star"></i>
                    <small>(145)</small>
                </span>
                <a href="badges.html" class="badge_list_1">
                    <img src="img/badges/badge_${
                      doctor.id <= 4 ? doctor.id : 4
                    }.svg" width="15" height="15" alt="">
                </a>
            </div>
            <ul>
                <li><a href="#0" onclick="onHtmlClick('Doctors', ${
                  doctor.id - 1
                })">
                    <i class="icon_pin_alt"></i>View on map</a></li>
                <li><a href="${data.hospital.map_link}" target="_blank">
                    <i class="icon_pin_alt"></i>Directions</a></li>
                <!-- Changed this link -->
                <li><a href="detail-page.html?doctorId=${
                  doctor.id
                }">Book now</a></li>
            </ul>
        </div>
    </div>`;
              container.append(card);
            });

            console.log("Doctor cards generated successfully");
          },
          error: function (xhr, status, error) {
            console.error("Error loading JSON:", error);
            alert("Failed to load doctor data. Check console for details.");
          },
        });
      });
    </script>
    <script>
      // Check login status on page load
      document.addEventListener("DOMContentLoaded", function () {
        const currentUser = localStorage.getItem("currentUser");
        const navMenu = document.querySelector(".main-menu ul");

        if (currentUser) {
          // Find Login and Sign Up links
          const loginItem = document.querySelector(
            'a[href="login.html"]'
          ).parentElement;
          const signupItem = document.querySelector(
            'a[href="register.html"]'
          ).parentElement;

          // Create Logout link
          const logoutItem = document.createElement("li");
          logoutItem.innerHTML = `
            <a href="#" id="logoutLink">
                Logout
            </a>
        `;

          // Replace Login/Sign Up with Logout
          navMenu.removeChild(loginItem);
          navMenu.removeChild(signupItem);
          navMenu.appendChild(logoutItem);

          // Add logout functionality
          document
            .getElementById("logoutLink")
            .addEventListener("click", function (e) {
              e.preventDefault();
              localStorage.removeItem("currentUser");
              window.location.href = "login.html";
            });
        }
      });
    </script>
    <!-- ... existing footer and scripts ... -->
    <script src="js/vegas.min.js"></script>
    <script>
      // Existing Vegas slider code
      $(function () {
        "use strict";
        $(".hero_kenburns").vegas({
          slides: [
            { src: "img/slides/1.jpg" },
            { src: "img/slides/3.jpg" },
            { src: "img/slides/2.jpg" },
          ],
          overlay: false,
          transition: "fade2",
          animation: "kenburnsUpRight",
          transitionDuration: 1000,
          delay: 5000,
          animationDuration: 30000,
        });
      });
    </script>

    <!-- Add this new script -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const currentUser = localStorage.getItem("currentUser");
        const navMenu = document.querySelector(".main-menu ul");

        if (currentUser) {
          const loginItem = document.querySelector(
            'a[href="login.html"]'
          ).parentElement;
          const signupItem = document.querySelector(
            'a[href="register.html"]'
          ).parentElement;

          const logoutItem = document.createElement("li");
          logoutItem.innerHTML = `
                <a href="#" id="logoutLink">
                    Logout
                </a>
            `;

          navMenu.removeChild(loginItem);
          navMenu.removeChild(signupItem);
          navMenu.appendChild(logoutItem);

          document
            .getElementById("logoutLink")
            .addEventListener("click", function (e) {
              e.preventDefault();
              localStorage.removeItem("currentUser");
              window.location.href = "login.html";
            });
        }
      });
    </script>
  </body>
</html>
